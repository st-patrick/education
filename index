{
  "meta": {
    "version": "0.1.0",
    "owner": "Patrick",
    "time_per_week_hours": 10,
    "goals_3_month": ["strong_foundations", "explore_widely"],
    "learning_style": {"pairing_ok": true, "make_first": false, "read_first": false, "video_first": false},
    "assessment": ["quizzes", "projects", "problem_sets", "code_review"],
    "notes": [
      "Maker Core skipped for now (3D print mostly known).",
      "Language track switched to Hungarian.",
      "Compute Core stays primary.",
      "Keep max_active_nodes small to preserve focus."
    ]
  },
  "tracks": {
    "compute_core": {
      "hours_per_week": 6,
      "nodes": [
        "ps_ml",
        "cpp_foundations",
        "algorithms_ii",
        "ml_to_prod",
        "tiny_compiler_frontend"
      ]
    },
    "language_core": {
      "language": "Hungarian",
      "hours_per_week": 2,
      "nodes": ["hu_sprint_a1_a2"]
    },
    "flavor_core": {
      "hours_per_week": 2,
      "quarter_focus": ["music_production_sprint", "ear_training_sprint"],
      "rotation": "weekly_micro_builds"
    },
    "side_flavors": {
      "catalog": [
        {
          "id": "math_competition_spikes",
          "title": "Competition Math Spikes (AIME-style warmups)",
          "estimated_hours": 1,
          "prereqs": [],
          "rationale": "Short, challenging but not overwhelming items for fun."
        },
        {
          "id": "behavioral_econ_nudges",
          "title": "Behavioral Economics for Builders (Tourist)",
          "estimated_hours": 2,
          "prereqs": [],
          "rationale": "Mental models for product & UX decisions."
        },
        {
          "id": "writing_clarity_rhetoric",
          "title": "Writing & Rhetoric: Clarity in Technical Prose",
          "estimated_hours": 2,
          "prereqs": [],
          "rationale": "Sharper docs, proposals, and READMEs."
        },
        {
          "id": "robotics_basics_tourist",
          "title": "Robotics Basics (Tourist)",
          "estimated_hours": 2,
          "prereqs": [],
          "rationale": "Kinematics/control overview; links to sim tools."
        },
        {
          "id": "security_crypto_basics",
          "title": "Security & Cryptography Basics (Tourist)",
          "estimated_hours": 2,
          "prereqs": [],
          "rationale": "Threat modeling + crypto primitives quick pass."
        }
      ]
    }
  },
  "nodes": {
    "ps_ml": {
      "title": "Prob/Stats for ML",
      "scope": ["distributions", "estimation", "power", "hypothesis_testing"],
      "level": "intro_to_intermediate",
      "prereqs": [{"id": "linear_algebra_basics", "strength": "recommended"}],
      "evidence": {
        "project": "CLI power & sample-size calculator (one- and two-sample)",
        "quiz_id": "quiz_w1",
        "rubric": ["correct formula usage", "input validation", "numerical stability"]
      }
    },
    "cpp_foundations": {
      "title": "C++ Foundations for Systems",
      "scope": ["RAII", "value vs reference", "move semantics", "small_vector"],
      "level": "intro",
      "prereqs": [{"id": "general_cs_basics", "strength": "recommended"}],
      "evidence": {
        "project": "Implement small_vector<T> with move-only optimization",
        "quiz_id": "quiz_w1",
        "rubric": ["rule_of_0_3_5", "no leaks", "tests for move/copy"]
      }
    },
    "algorithms_ii": {
      "title": "Algorithms II: Graphs/DP/Amortized",
      "scope": ["topo_sort", "shortest_paths", "amortized_analysis", "dp_on_dags"],
      "level": "intermediate_to_advanced",
      "prereqs": [{"id": "algorithms_i_basics", "strength": "required"}],
      "evidence": {
        "project": "Pathfinder micro-lib: DAG DP + Dijkstra",
        "quiz_id": "quiz_w1",
        "rubric": ["O(V+E) reasoning", "clear invariants", "edge-case tests"]
      }
    },
    "ml_to_prod": {
      "title": "ML to Production: Data→Serve→Monitor",
      "scope": ["feature_store", "offline/online_parity", "monitoring", "canaries", "drift"],
      "level": "intermediate",
      "prereqs": [
        {"id": "ps_ml", "strength": "recommended"},
        {"id": "algorithms_ii", "strength": "recommended"}
      ],
      "evidence": {
        "project": "Serve a simple model with canary + rollback and drift sketch",
        "quiz_id": "quiz_w1",
        "rubric": ["parity checks", "logs & metrics", "rollback path"]
      }
    },
    "tiny_compiler_frontend": {
      "title": "Tiny Compiler (Front-end)",
      "scope": ["tokenize", "parse", "AST", "semantic_checks", "bytecode_emission"],
      "level": "intermediate",
      "prereqs": [{"id": "cpp_foundations", "strength": "recommended"}],
      "evidence": {
        "project": "Expr language → AST → stack-based bytecode",
        "quiz_id": "quiz_w1",
        "rubric": ["no left recursion in RD parser", "clean AST", "tests"]
      }
    },
    "hu_sprint_a1_a2": {
      "title": "Hungarian Sprint A1→A2",
      "scope": ["survival_phrases", "present_tense", "cases_basics", "numbers", "pronunciation"],
      "level": "intro",
      "prereqs": [],
      "evidence": {
        "project": "3× 90-second voice notes (intro, materials shopping, teach-back)",
        "quiz_id": "quiz_hu_a1",
        "rubric": ["intelligibility", "basic case usage", "core vocab (300–500 words)"]
      }
    },
    "music_production_sprint": {
      "title": "Music Production Sprint: Pro Mix Replication",
      "scope": ["gain_staging", "EQ_strategies", "compression", "reverb_delay", "reference_matching", "critical_listening"],
      "level": "advanced",
      "tools": {"daw": "FL Studio"},
      "prereqs": [],
      "evidence": {
        "project": "Recreate the mix of a chosen reference track in your DAW; A/B within ±1 dB integrated LUFS and pass a null test within -20 dB on stems.",
        "quiz_id": "quiz_audio_w1",
        "rubric": ["balanced headroom (-12 to -6 dBFS before limiter)", "consistent EQ rationale", "compression with attack/release justification", "A/B honesty (level-matched)"]
      }
    },
    "ear_training_sprint": {
      "title": "Ear Training Sprint: Intervals→Chord Qualities→Dictation",
      "scope": ["interval_ID", "triads_7ths_quality", "rhythmic_dictation", "melodic_dictation", "solfege_moveable_do"],
      "level": "advanced",
      "prereqs": [],
      "evidence": {
        "project": "Transcribe a 16-bar melody and annotate chord qualities for 12-bar blues in two keys.",
        "quiz_id": "quiz_audio_w2",
        "rubric": ["≥90% interval accuracy", "correct chord labels on strong beats", "clean rhythmic transcription"]
      }
    },
    "game_theory_mechanism_design": {
      "title": "Game Theory & Mechanism Design (Builder’s Cut)",
      "scope": [
        "normal/extensive-form games",
        "mixed strategies & Nash",
        "Bayesian games",
        "mechanism design: IC/IR",
        "auctions: first/second-price, VCG",
        "revenue equivalence, Myerson",
        "matching markets (Gale–Shapley)"
      ],
      "level": "advanced",
      "prereqs": [
        {"id": "prob_stats_basics", "strength": "recommended"},
        {"id": "linear_algebra_basics", "strength": "recommended"}
      ],
      "evidence": {
        "project": "Auction lab: simulate and empirically compare first-price, second-price, and VCG auctions under different bidder value distributions; verify incentive compatibility empirically.",
        "quiz_id": "quiz_gt_w1",
        "rubric": ["correct equilibrium reasoning", "clean simulation design", "replicable experiments"]
      }
    }
  },
  "weeks": [
    {
      "week": 1,
      "focus": ["ps_ml", "cpp_foundations", "hu_sprint_a1_a2"],
      "schedule": [
        {
          "activity": "tourist",
          "topics": [
            "ML lifecycle (data→train→eval→serve→monitor)",
            "C++ RAII & move semantics story",
            "HU: greetings, self-intro, present tense regular verbs"
          ]
        },
        {
          "activity": "builder",
          "tasks": [
            {"node": "ps_ml", "deliverable": "power/sample-size CLI"},
            {"node": "cpp_foundations", "deliverable": "small_vector<T> with move only"},
            {"node": "hu_sprint_a1_a2", "deliverable": "10-line intro monologue + 2× shadowing"}
          ]
        },
        {"activity": "boss_battle", "quiz_id": "quiz_w1"}
      ]
    },
    {
      "week": 2,
      "focus": ["algorithms_ii", "ml_to_prod", "hu_sprint_a1_a2"],
      "schedule": [
        {
          "activity": "tourist",
          "topics": [
            "Amortized analysis, union-find, DP on DAGs",
            "Feature stores, leakage, offline/online parity",
            "HU: numbers, shopping, question forms"
          ]
        },
        {
          "activity": "builder",
          "tasks": [
            {"node": "algorithms_ii", "deliverable": "Shortest path lib + path count"},
            {"node": "ml_to_prod", "deliverable": "Leakage linter on toy dataset"},
            {"node": "hu_sprint_a1_a2", "deliverable": "roleplay: buying materials"}
          ]
        }
      ]
    },
    {
      "week": 3,
      "focus": ["tiny_compiler_frontend", "cpp_foundations", "ml_to_prod"],
      "schedule": [
        {
          "activity": "tourist",
          "topics": [
            "Compilers: tokens→parsing→AST→semantics",
            "C++ templates & rule of 0/3/5",
            "Serving: request logging & drift sketch"
          ]
        },
        {
          "activity": "builder",
          "tasks": [
            {"node": "tiny_compiler_frontend", "deliverable": "Expr→AST→bytecode"},
            {"node": "ml_to_prod", "deliverable": "Local REST service for model"}
          ]
        }
      ]
    },
    {
      "week": 4,
      "focus": ["ml_to_prod", "algorithms_ii", "hu_sprint_a1_a2"],
      "schedule": [
        {
          "activity": "tourist",
          "topics": [
            "Monitoring: drift, canaries, guardrails; postmortems",
            "Algorithms: LCA/heavy-light (tourist), monotonic queues",
            "HU: mini teach-back of build project"
          ]
        },
        {
          "activity": "builder",
          "tasks": [
            {"node": "ml_to_prod", "deliverable": "Serve model with canary + rollback"},
            {"node": "hu_sprint_a1_a2", "deliverable": "3× 90-second voice notes"}
          ]
        },
        {"activity": "boss_battle", "quiz_id": "quiz_w4"}
      ]
    }
  ],
  "quizzes": {
    "quiz_w1": {
      "title": "Week 1 Mixed Quiz",
      "duration_minutes": 60,
      "items": [
        {"id": "q1", "domain": "algorithms", "difficulty": "core", "prompt": "Array A length n has numbers in [1..n] with one duplicate and one missing. Give an O(n), O(1)-space method to find both.", "answer_key": "Use XOR (or sum & sumsq) over 1..n and A; solve for missing/duplicate."},
        {"id": "q2", "domain": "algorithms", "difficulty": "core", "prompt": "Show why total cost of n push+pop ops on a stack is O(n) under amortized analysis.", "answer_key": "Each item is pushed once and popped once; aggregate/potential → O(n)."},
        {"id": "q3", "domain": "algorithms", "difficulty": "challenge", "prompt": "DAG with positive weights: compute single-source shortest paths and count of shortest paths to each node in O(V+E).", "answer_key": "Topo order; DP for dist; for edges u→v with dist[v]==dist[u]+w(u,v), accumulate count[v]+=count[u]."},
        {"id": "q4", "domain": "algorithms", "difficulty": "blitz", "prompt": "Dynamic array doubling on overflow. What is the amortized cost of append?", "answer_key": "O(1) amortized via accounting/potential; occasional O(k) resize paid by credits."},
        {"id": "q5", "domain": "ml_stats", "difficulty": "core", "prompt": "σ=10, detect mean shift Δ=5 at α=0.05 (two-sided), power 0.8, two-sample t-test equal sizes. Approximate per-group n.", "answer_key": "n ≈ 2*((z_{.975}+z_{.8})*σ/Δ)^2 ≈ 63 per group."},
        {"id": "q6", "domain": "ml_prod", "difficulty": "core", "prompt": "Name 3 distinct signals indicating training–serving skew after deployment.", "answer_key": "Feature distribution drift; input schema drift; unreproduced normalization; missing features; concept drift (any 3)."},
        {"id": "q7", "domain": "ml_prod", "difficulty": "challenge", "prompt": "You trained with a future feature (leakage). Give 2 offline and 1 online guard to detect/prevent.", "answer_key": "Time-aware CV + staleness checks; permutation/leakage tests; online shadow deployment vs delayed labels."},
        {"id": "q8", "domain": "ml_stats", "difficulty": "blitz", "prompt": "Precision=0.5, recall=0.25. What is F1?", "answer_key": "F1=2PR/(P+R)=0.333…"},
        {"id": "q9", "domain": "cpp", "difficulty": "core", "prompt": "When is a move constructor selected over a copy constructor? Give a one-line example that forces move.", "answer_key": "When binding to rvalue (e.g., std::move). Example: auto y=std::move(vec);"},
        {"id": "q10", "domain": "compilers", "difficulty": "challenge", "prompt": "Why is left recursion a problem for RD parsers? Show the transformed rule for E → E + T | T.", "answer_key": "It loops infinitely. Transform: E→T E'; E'→+ T E' | ε."},
        {"id": "q11", "domain": "wood_cad", "difficulty": "core", "prompt": "(Tourist carry-over) List 4–6 correct steps for a dovetail box from rough stock to finish.", "answer_key": "Mill to S4S→cut to length→mark tails→cut/chisel→fit pins→glue/clamp→plane/sand→finish."},
        {"id": "q12", "domain": "cad_print", "difficulty": "blitz", "prompt": "Printer overshoots outer walls by +0.20 mm. For a pressure fit on 18.00 mm stock, what inner width to model?", "answer_key": "17.8 mm."}
      ]
    },
    "quiz_w4": {
      "title": "Week 4 Mixed Quiz (monitoring + algos + HU)",
      "duration_minutes": 60,
      "items": [
        {"id": "q1", "domain": "ml_prod", "difficulty": "core", "prompt": "Define data drift vs concept drift and give one metric for each.", "answer_key": "Data drift: input distribution shift (e.g., PSI, KS). Concept drift: target relationship shift (e.g., drop in calibrated AUC vs stable PSI)."},
        {"id": "q2", "domain": "ml_prod", "difficulty": "challenge", "prompt": "Design a simple canary + rollback strategy for a binary classifier API.", "answer_key": "10% traffic, health metrics (latency,error), predictive parity checks, auto-rollback on thresholds."},
        {"id": "q3", "domain": "algorithms", "difficulty": "core", "prompt": "Give an O(V+E) algorithm to find LCA on a tree for k queries (after O(V) preprocess).", "answer_key": "Euler tour + RMQ or parent doubling with O(V log V) preprocess, O(1)/O(log V) per query."},
        {"id": "q4", "domain": "algorithms", "difficulty": "blitz", "prompt": "Explain monotonic queue and one use case.", "answer_key": "Deque maintaining monotone values; O(1) sliding window min/max or DP optimization."},
        {"id": "q5", "domain": "hungarian", "difficulty": "core", "prompt": "Translate to Hungarian (informal): 'I am buying wood and screws for a small box.'", "answer_key": "Veszek fát és csavarokat egy kis dobozhoz."},
        {"id": "q6", "domain": "hungarian", "difficulty": "challenge", "prompt": "Conjugate 'to go' (menni) in present (én/te/ő/mi/ti/ők).", "answer_key": "megyek, mész, megy, megyünk, mentek, mennek."}
      ]
    },
    "quiz_hu_a1": {
      "title": "Hungarian A1 Sprint Check",
      "duration_minutes": 25,
      "items": [
        {"id": "q1", "domain": "hungarian", "difficulty": "core", "prompt": "Say your name and where you are from.", "answer_key": "A nevem …, …-ból/ből jöttem."},
        {"id": "q2", "domain": "hungarian", "difficulty": "core", "prompt": "Count from 11 to 20.", "answer_key": "tizenegy… húsz."},
        {"id": "q3", "domain": "hungarian", "difficulty": "blitz", "prompt": "Form a yes/no question with 'van' (to be).", "answer_key": "Van …?"}
      ]
    },
    "quiz_audio_w1": {
      "title": "Audio W1 — Mix Fundamentals",
      "duration_minutes": 40,
      "items": [
        {"id": "aq1", "domain": "audio", "difficulty": "core", "prompt": "Define gain staging and outline a safe headroom target across 3 stages (track→bus→master).", "answer_key": "Maintain non-clipping peaks; e.g., tracks ~ -18 dBFS RMS, buses ~ -12, master ~ -6 before limiter."},
        {"id": "aq2", "domain": "audio", "difficulty": "core", "prompt": "You hear harshness around 2–4 kHz and mud around 200–400 Hz. Describe an EQ move that fixes both without level bias.", "answer_key": "Level-match with makeup gain; narrow cut ~3 dB at ~3 kHz; gentle wide cut ~2 dB at ~300 Hz; verify via level-matched A/B."},
        {"id": "aq3", "domain": "audio", "difficulty": "challenge", "prompt": "Explain a null test and when two stems will not null even if they sound the same.", "answer_key": "Invert polarity of one; sum. Non-linear/phase/time differences prevent perfect null; same-loudness but different phase won't perfectly cancel."},
        {"id": "aq4", "domain": "audio", "difficulty": "blitz", "prompt": "Given a reference at -14 LUFS and your mix at -10 LUFS, how do you A/B fairly?", "answer_key": "Loudness-match: attenuate your mix by ~4 dB or use LUFS normalization before comparison."}
      ]
    },
    "quiz_audio_w2": {
      "title": "Audio W2 — Ear Training",
      "duration_minutes": 30,
      "items": [
        {"id": "et1", "domain": "audio", "difficulty": "core", "prompt": "Identify these 10 intervals from audio (m2…P8).", "answer_key": "≥90% correct."},
        {"id": "et2", "domain": "audio", "difficulty": "core", "prompt": "Label chord qualities for 8 chords (maj/min/aug/dim/7/M7/m7/ø7).", "answer_key": "≥80% correct."},
        {"id": "et3", "domain": "audio", "difficulty": "challenge", "prompt": "Notate a 2-bar rhythm at 120 BPM with syncopation from audio.", "answer_key": "Accepts equivalent notation; timing within ±20 ms."}
      ]
    },
    "quiz_gt_w1": {
      "title": "Game Theory W1 — Equilibria & Auctions",
      "duration_minutes": 50,
      "items": [
        {"id": "gt1", "domain": "game_theory", "difficulty": "core", "prompt": "Define a (mixed) Nash equilibrium and state one condition for existence.", "answer_key": "A profile where no player can increase payoff by unilateral deviation. Existence in finite games by Kakutani or Brouwer via fixed point (Nash)."},
        {"id": "gt2", "domain": "game_theory", "difficulty": "core", "prompt": "Solve a 2×2 zero-sum game with no pure NE; give the mixed strategy and value.", "answer_key": "Use indifference conditions: each player mixes to make opponent indifferent; solve linear equations."},
        {"id": "gt3", "domain": "mechanism", "difficulty": "challenge", "prompt": "Show why truthful bidding is a dominant strategy in a Vickrey (second-price sealed-bid) auction.", "answer_key": "Bid affects only whether you win, not price paid; overbidding risks negative surplus, underbidding risks losing when v>b*."},
        {"id": "gt4", "domain": "mechanism", "difficulty": "challenge", "prompt": "State IC and IR for a direct-revelation mechanism and give one counterexample where IC fails.", "answer_key": "IC: truthful report maximizes utility; IR: participation yields ≥ outside option. Counterexample: first-price auction under direct-revelation without payment adjustment isn't IC."},
        {"id": "gt5", "domain": "game_theory", "difficulty": "blitz", "prompt": "When does revenue equivalence hold (two conditions)?", "answer_key": "Risk-neutral bidders with i.i.d. private values, allocation rule depends only on rankings; same zero utility for lowest type."}
      ]
    }
  },
  "procedural_generators": {
    "power_calc": {
      "params": {"sigma": [5, 20], "delta": [2, 10], "alpha": [0.01, 0.1], "power": [0.7, 0.9], "two_sided": true},
      "solution": "n_per_group ≈ 2 * ((z_{1−α/2}+z_{power}) * σ / Δ)^2"
    },
    "shortest_path_counter": {
      "params": {"V": [10, 200], "E": [9, 2000], "weights": "positive"},
      "solution_outline": "Topo order for dist; count paths via DP along edges satisfying shortest-path equality."
    },
    "f1_calc": {
      "params": {"precision": [0.1, 0.95], "recall": [0.1, 0.95]},
      "solution": "F1 = 2PR/(P+R)"
    }
  },
  "rubrics": {
    "code_review": [
      "Names reveal intent; no acronyms without reason",
      "Thin interfaces; narrow data types",
      "Invariants & preconditions documented",
      "Tests: happy + edge + property-based if applicable",
      "No needless global state; RAII in C++"
    ],
    "project_definition": [
      "Clear success metrics",
      "Time-boxed scope",
      "Demoable artifact",
      "One-page postmortem template included"
    ]
  },
  "external_alignments": [
    {
      "node_ids": ["algorithms_ii"],
      "provider": "UC San Diego / Coursera",
      "course": "Algorithmic Toolbox",
      "type": "specialization",
      "certificate": true,
      "alignment_strength": "strong"
    },
    {
      "node_ids": ["ml_to_prod"],
      "provider": "DeepLearning.AI / Coursera",
      "course": "Machine Learning in Production / MLOps",
      "type": "specialization",
      "certificate": true,
      "alignment_strength": "medium"
    },
    {
      "node_ids": ["cpp_foundations", "tiny_compiler_frontend"],
      "provider": "Harvard / edX",
      "course": "CS50 (C focus) + compilers supplement",
      "type": "xseries",
      "certificate": true,
      "alignment_strength": "medium"
    }
  ],
  "scope_guard": {
    "max_active_nodes": 3,
    "fallback_rules": [
      "If time slips, drop 'tiny_compiler_frontend' first, then 'ml_to_prod' extras.",
      "Boss Battle every Sunday anchors progress."
    ]
  }
,
  "explainers": {
    "convex_optimization_first_order": "Optimization over convex sets/functions using gradient-based or proximal methods (GD, Nesterov, L-BFGS, ADMM). Guarantees global optima; backbone of ML training and resource allocation.",
    "causal_inference": "Tools to estimate cause→effect (not mere correlation) via DAGs, backdoor/frontdoor criteria, IVs, and designs like diff-in-diff.",
    "control_theory": "State-space modeling and feedback design (LQR, MPC) to steer dynamical systems under constraints; ubiquitous in robotics/finance/ops.",
    "information_theory": "Quantifies information/uncertainty (entropy, KL) and communication limits (channel capacity)."
  },
  "flavor_queue": [
    {"id": "abstract_algebra_category_pragmatic", "priority": 1},
    {"id": "genetics_systems_biology", "priority": 1},
    {"id": "game_theory_mechanism_design", "priority": 1},
    {"id": "numerical_methods_pdes", "priority": 2},
    {"id": "classical_mechanics_variational", "priority": 2}
  ]
,
  "preview_packs": {
    "game_theory_preview": {
      "weeks": 2,
      "plan": [
        {"tourist": ["best-response dynamics", "mixed NE via indifference", "dominance"], "builder": ["solve 3 payoff matrices (one with only mixed NE), write 1-page notes"]},
        {"tourist": ["auctions: SPA/FPA, VCG"], "builder": ["code a SPA and FPA simulator; compare truthful vs shaded bidding"]}
      ]
    }
  },
  "process_prefs": {"canonical_artifact": "json_canvas", "persist_between_chats": true, "challenge_bias": "high"}
,
  "schema": {
    "microtopic": {
      "id": "string",
      "title": "string",
      "domain": "string",
      "depends_on": ["id"],
      "weight": 1,
      "description": "string",
      "evidence": {"quizbank": ["item_id"], "project": "optional string"}
    },
    "mastery_record": {"status": "unassessed|learning|mastered", "last_score": "0..100|null", "attempts": 0, "artifacts": ["link"], "notes": "string"}
  },
  "microtopics": [
    {"id": "ps.dist_norm", "title": "Normal & Bernoulli families", "domain": "prob_stats", "depends_on": [], "weight": 2, "description": "PDF/PMF, parameters, moments."},
    {"id": "ps.estimation_mle", "title": "MLE + bias/variance", "domain": "prob_stats", "depends_on": ["ps.dist_norm"], "weight": 3, "description": "Consistency, efficiency, invariance."},
    {"id": "ps.clt", "title": "CLT & sampling distributions", "domain": "prob_stats", "depends_on": ["ps.dist_norm"], "weight": 2, "description": "Approximate normality of means."},
    {"id": "ps.ht_tests", "title": "Z/T-tests & CIs", "domain": "prob_stats", "depends_on": ["ps.clt"], "weight": 2, "description": "One/two-sample; known/unknown σ."},
    {"id": "ps.power", "title": "Power & sample size", "domain": "prob_stats", "depends_on": ["ps.ht_tests"], "weight": 3, "description": "Effect size, α/β tradeoffs."},
    {"id": "ps.multiple", "title": "Multiple testing control", "domain": "prob_stats", "depends_on": ["ps.ht_tests"], "weight": 1, "description": "Bonferroni, BH-FDR."},

    {"id": "cpp.value_categories", "title": "Value categories & lifetimes", "domain": "cpp", "depends_on": [], "weight": 3, "description": "lvalue/xvalue/prvalue; ownership hints."},
    {"id": "cpp.raii", "title": "RAII & resource safety", "domain": "cpp", "depends_on": ["cpp.value_categories"], "weight": 3, "description": "ctor/dtor invariants; exceptions."},
    {"id": "cpp.move", "title": "Move semantics", "domain": "cpp", "depends_on": ["cpp.value_categories", "cpp.raii"], "weight": 3, "description": "Rule of 0/3/5; std::move; noexcept."},
    {"id": "cpp.small_vector", "title": "small_vector<T>", "domain": "cpp", "depends_on": ["cpp.move"], "weight": 2, "description": "SBO, iterators, growth policy."},
    {"id": "cpp.templates_basics", "title": "Templates & SFINAE (pragmatic)", "domain": "cpp", "depends_on": ["cpp.value_categories"], "weight": 2, "description": "Constraints, overload sets."},

    {"id": "alg.toposort", "title": "Topological order", "domain": "algorithms", "depends_on": [], "weight": 2, "description": "Kahn/DFS orders on DAGs."},
    {"id": "alg.dag_sp", "title": "Shortest paths on DAGs", "domain": "algorithms", "depends_on": ["alg.toposort"], "weight": 3, "description": "DP relaxations in topo order."},
    {"id": "alg.dijkstra", "title": "Dijkstra & PQ invariants", "domain": "algorithms", "depends_on": [], "weight": 3, "description": "Non-negative weights; proofs."},
    {"id": "alg.union_find", "title": "Union-Find (α(n))", "domain": "algorithms", "depends_on": [], "weight": 2, "description": "Union by rank + compression."},
    {"id": "alg.potential", "title": "Amortized analysis (potential)", "domain": "algorithms", "depends_on": [], "weight": 2, "description": "Dynamic arrays, stacks, UF."},
    {"id": "alg.mono_queue", "title": "Monotonic queue", "domain": "algorithms", "depends_on": [], "weight": 1, "description": "Sliding window min/max; DP."},

    {"id": "mlp.feature_store", "title": "Feature stores & lineage", "domain": "ml_prod", "depends_on": ["ps.estimation_mle"], "weight": 2, "description": "Transform parity; time-travel."},
    {"id": "mlp.parity_checks", "title": "Offline/online parity", "domain": "ml_prod", "depends_on": ["ps.power"], "weight": 3, "description": "Schema, scaling, UDF drift."},
    {"id": "mlp.serving_patterns", "title": "Serving patterns", "domain": "ml_prod", "depends_on": [], "weight": 2, "description": "Batch, online, streaming, feature-on-demand."},
    {"id": "mlp.monitoring", "title": "Monitoring & alerting", "domain": "ml_prod", "depends_on": ["ps.multiple"], "weight": 3, "description": "AUC/PR, PSI/KS, guardrails."},
    {"id": "mlp.canary", "title": "Canary & rollback", "domain": "ml_prod", "depends_on": ["mlp.serving_patterns"], "weight": 2, "description": "Shadow, % traffic, SLOs."},
    {"id": "mlp.drift", "title": "Drift detection", "domain": "ml_prod", "depends_on": ["ps.estimation_mle"], "weight": 2, "description": "PSI, MMD, calibration drift."},

    {"id": "comp.lex", "title": "Lexing & tokenization", "domain": "compilers", "depends_on": [], "weight": 2, "description": "Regex vs states; trivia."},
    {"id": "comp.ll1", "title": "LL(1): FIRST/FOLLOW", "domain": "compilers", "depends_on": [], "weight": 3, "description": "Table construction; conflicts."},
    {"id": "comp.left_rec", "title": "Eliminate left recursion", "domain": "compilers", "depends_on": ["comp.ll1"], "weight": 2, "description": "Immediate & indirect."},
    {"id": "comp.ast", "title": "AST design", "domain": "compilers", "depends_on": [], "weight": 2, "description": "Shape vs CST; visitors."},
    {"id": "comp.semantics", "title": "Semantic checks", "domain": "compilers", "depends_on": ["comp.ast"], "weight": 2, "description": "Scopes, types, errors."},
    {"id": "comp.bytecode", "title": "Bytecode emitter", "domain": "compilers", "depends_on": ["comp.ast"], "weight": 2, "description": "Stack machine; op design."},

    {"id": "hu.vowel_harmony", "title": "Vowel harmony", "domain": "hungarian", "depends_on": [], "weight": 2, "description": "Back vs front variants."},
    {"id": "hu.def_indef_present", "title": "Definite/indefinite conjugation (present)", "domain": "hungarian", "depends_on": [], "weight": 3, "description": "Objective vs subjective conjugation."},
    {"id": "hu.accusative_t", "title": "Accusative -(t)", "domain": "hungarian", "depends_on": ["hu.vowel_harmony"], "weight": 2, "description": "Allomorphs; linking vowels."},
    {"id": "hu.cases_locative", "title": "Inessive/Illative/Elative", "domain": "hungarian", "depends_on": ["hu.vowel_harmony"], "weight": 2, "description": "-ban/-ben, -ba/-be, -ból/-ből."},
    {"id": "hu.word_order", "title": "Topic–focus word order", "domain": "hungarian", "depends_on": ["hu.def_indef_present"], "weight": 2, "description": "Focus position; negation."},
    {"id": "hu.questions", "title": "Polar & wh- questions", "domain": "hungarian", "depends_on": ["hu.word_order"], "weight": 1, "description": "Question particles; intonation."},

    {"id": "audio.gain", "title": "Gain staging & headroom", "domain": "audio", "depends_on": [], "weight": 3, "description": "Track→bus→master targets."},
    {"id": "audio.lufs", "title": "LUFS metering & loudness match", "domain": "audio", "depends_on": ["audio.gain"], "weight": 2, "description": "Fair A/B; streaming norms."},
    {"id": "audio.eq", "title": "EQ strategy", "domain": "audio", "depends_on": [], "weight": 2, "description": "Harshness/mud; Q; shelves."},
    {"id": "audio.comp", "title": "Compression: attack/release", "domain": "audio", "depends_on": ["audio.gain"], "weight": 3, "description": "Envelope control; pumping."},
    {"id": "audio.reverb_delay", "title": "Space (reverb/delay)", "domain": "audio", "depends_on": [], "weight": 1, "description": "Pre-delay; decay; tempo sync."},
    {"id": "audio.stereo", "title": "Stereo field & imaging", "domain": "audio", "depends_on": [], "weight": 1, "description": "Mid/side; correlation."},

    {"id": "gt.normal_form", "title": "Strategic-form games", "domain": "game_theory", "depends_on": [], "weight": 2, "description": "Players, strategies, payoffs."},
    {"id": "gt.best_response", "title": "Best response & dominance", "domain": "game_theory", "depends_on": ["gt.normal_form"], "weight": 2, "description": "Iterated elimination."},
    {"id": "gt.mixed_ne", "title": "Mixed Nash equilibrium", "domain": "game_theory", "depends_on": ["gt.best_response"], "weight": 3, "description": "Indifference conditions; existence."},
    {"id": "gt.auctions_spa_fpa", "title": "Auctions: SPA vs FPA", "domain": "mechanism", "depends_on": ["gt.normal_form"], "weight": 2, "description": "Truthful vs shaded bidding."},
    {"id": "gt.vcg", "title": "VCG & incentive compatibility", "domain": "mechanism", "depends_on": ["gt.auctions_spa_fpa"], "weight": 3, "description": "Dominant strategies; externalities."}
  ],

  "mastery": {
    "scale": {"unassessed": 0, "learning": 1, "mastered": 2},
    "records": {
      "ps.dist_norm": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "ps.estimation_mle": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "ps.clt": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "ps.ht_tests": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "ps.power": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "cpp.value_categories": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "cpp.raii": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "cpp.move": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "cpp.small_vector": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "alg.toposort": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "alg.dag_sp": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "alg.dijkstra": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "alg.union_find": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "alg.potential": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "mlp.feature_store": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "mlp.parity_checks": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "mlp.monitoring": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "mlp.canary": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "comp.lex": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "comp.ll1": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "comp.left_rec": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "comp.ast": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "hu.vowel_harmony": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "hu.def_indef_present": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "hu.accusative_t": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "hu.cases_locative": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "audio.gain": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "audio.lufs": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "audio.eq": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "audio.comp": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "gt.normal_form": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "gt.best_response": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "gt.mixed_ne": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "gt.auctions_spa_fpa": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""},
      "gt.vcg": {"status": "unassessed", "last_score": null, "attempts": 0, "artifacts": [], "notes": ""}
    }
  },

  "probe_templates": {
    "ps.power": {"params": {"sigma": [5,20], "delta": [2,10], "alpha": [0.01,0.1], "power": [0.7,0.95]}, "scoring": "numeric within ±1 of exact n", "generator": "two-sample z/t normal approx"},
    "alg.dag_sp": {"params": {"V": [8,60], "E": [V-1, 4*V], "weights": "positive"}, "scoring": "distances correct + path counts", "generator": "random DAG in topo order"},
    "cpp.move": {"params": {"snippets": 1}, "scoring": "compile+tests pass; move selected over copy", "generator": "fill-in binding contexts + noexcept toggles"},
    "mlp.parity_checks": {"params": {"scales": ["std","minmax","none"], "missingness": [0,0.2]}, "scoring": "detect & explain skew cause", "generator": "synthesize train/serve pipelines with subtle mismatches"},
    "comp.ll1": {"params": {"grammar_size": [3,6]}, "scoring": "FIRST/FOLLOW + table without conflicts", "generator": "grammar seeds with/without left factoring"},
    "hu.def_indef_present": {"params": {"verbs": ["lát","venni","írni","menni"], "objects": ["könyv","autó","levelet"]}, "scoring": "morphology correct", "generator": "conjugation drills with object definiteness"},
    "audio.comp": {"params": {"source": ["drums","bass","vocal"], "target_envelope": ["tight","punchy","glue"]}, "scoring": "attack/release rationale consistent", "generator": "choose settings and justify with envelope math"},
    "gt.mixed_ne": {"params": {"payoff_range": [-2,8]}, "scoring": "correct mix probs & value", "generator": "2×2 zero-sum indifference solve"}
  },

  "progress_log": [
    {"date": "2025-08-27", "event": "Initialized microtopic grid & mastery tracking", "details": {"microtopics": 40}}
  ]
}
